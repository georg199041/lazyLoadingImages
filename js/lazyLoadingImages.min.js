(function(b){var b=b?b:window,h={addEvent:function(a,c,f){a.addEventListener?a.addEventListener(c,f,!1):a.attachEvent&&a.attachEvent("on"+c,f)}},g={node:{},images:[],addImage:function(a,c,f){var d=a.getAttribute("data-type");this.images.push({id:f,node:a,url:c,type:d||!1,image:!1,isLoad:!1,callback:!1})},showImage:function(a){a=this.images[a];a.isLoad=!0;a.node.src=a.image.src},load:function(a){this.loadAndShow(a,!1)},addCallback:function(a,c){this.showImage(c);a.callback=!0;h.addEvent(a.image,"load",
void 0)},loadAndShow:function(a,c){for(var a=a||!1,f=this.images,d=0,b=f.length;d<b;d++){var e=f[d];e.type==a&&(e.image?c&&(e.isLoad?e.node.src=e.image.src:e.callback||this.addCallback(e,d)):(e.image=new Image,e.image.src=e.url,c&&this.addCallback(e,d)))}},show:function(a){this.loadAndShow(a,!0)},update:function(){for(var a=[],c=0,f=document.images.length;c<f;c++){var d=document.images[c],b=d.getAttribute("data-url"),e=d.getAttribute("data-lazyId");if(!e&&b&&""!=b){var g=Math.ceil(1E4*Math.random());
d.setAttribute("lazyId",g);this.addImage(d,b,g)}if(e||g)a.push(e||g)}this.removeUnrealObj(a)},removeUnrealObj:function(a){for(var c=[],f=0,d=this.images.length;f<d;f++){var b=this.images[f];this.isRealObject(b,a)&&c.push(b)}this.images=c},isRealObject:function(a,c){for(var b=0,d=c.length;b<d;b++)if(a.id==c[b])return!0;return!1}};b.lazyLoadingImages={update:function(){g.update.call(g);return b.lazyLoadingImages},show:function(a){g.show.call(g,a);return b.lazyLoadingImages},load:function(a){g.load.call(g,
a);return b.lazyLoadingImages}};h.addEvent(document,"DOMContentLoaded",function(){b.lazyLoadingImages.update()},!1)})(this);
